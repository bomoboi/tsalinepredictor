{% extends 'base.html' %}

{% block title %}TSA Line Predictor | Simulator{% endblock title%}

{{ terminal_list }}


{% block content %}

{{ agents|json_script:"agents"}}
{{ ap|json_script:"ap" }}

<div class="flex flex-row w-full
            bg-gradient-to-tr from-indigo-300 to-blue-600">
    <div class="info-display flex flex-col w-1/3 gap-8
                justify-center align-center mx-10 my-auto
                h-2/3 px-8 rounded-xl
                bg-gradient-to-bl from-blue-600 to-indigo-900">
        <div class="justify-stretch text-center text-slate-300">
             <select class="w-full bg-black/20 p-2
                            border-white border-b-2" id="selectTerminal">
                <option value="Terminal 1">Terminal 1</option>
            </select>
        </div>

        <div class="border-2 border-slate-400 rounded-lg bg-slate-200
                    text-black text-center p-2 mt-10">
            <p>Selected Terminal:</p>
            <span class="text-sky-500 font-bold text-2xl" id="selectedTerminal">Terminal 1</span>
        </div>

        <div class="border-2 border-slate-400 rounded-lg bg-slate-200
                    text-black text-center p-4">
            <p>Calculated Wait Time:</p>
            <div class="text-sky-500 font-bold text-2xl">
                <span id="waitTime">0</span>
                <span>minutes</span>
            </div>
        </div>
    </div>

    <div class="sim-display flex flex-col h-full w-full
                justify-center align-center
                ">

        <div class="canvas-wrapper flex-1
                    p-2" id="canvas-wrapper">
            <canvas class="w-[1100px] h-[550px] mx-auto
                           my-20
                           border-slate-600 border-4
                           rounded-xl bg-white/80" id="canvas"></canvas>
        </div>

        <div class="controls flex flex-row justify-evenly pb-6
                    text-black">
            <button class="transition ease-in-out
                        border-2 border-slate-400 hover:border-blue-500
                        hover:scale-110
                        rounded-full ml-20 py-2 px-6
                        duration 200 bg-slate-200" id="addLane">Add a Lane</button>
            <button class="transition ease-in-out
                        border-2 border-slate-400 hover:border-blue-500
                        hover:scale-110
                        rounded-full py-2 px-6
                        duration 200 bg-slate-200" id="removeLane">Remove a Lane</button>
            <button class="transition ease-in-out
                        border-2 border-slate-400 hover:border-blue-500
                        hover:scale-110
                        rounded-full mr-20 py-2 px-6
                        duration 200 bg-slate-200" id="toggleSim">Start Simulator</button>
        </div>

    </div>
</div>
{% load static %}
<script src="{% static '/predictor/sim.js' %}"></script>
{% endblock content %}
